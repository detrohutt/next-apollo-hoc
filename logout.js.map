{"version":3,"sources":["src/logout.js"],"names":["initialConfig","configs","defaultOpts","cookieSource","document","updateStore","next","opts","Object","assign","delete","e","console","error"],"mappings":";;;;;;AAAA;;AAEA;;AACA;;kBAEeA,iBAAiB,gBAAgB,GAAGC,OAAnB,EAA4B;AAC1D,QAAMC,cAAc;AAClBC,kBAAcC,QADI;AAElBC,iBAAa,IAFK;AAGlBC,UAAM;AAHY,GAApB;AAKA,QAAMC,OAAOC,OAAOC,MAAP,CAAcP,WAAd,EAA2BF,aAA3B,EAA0C,GAAGC,OAA7C,CAAb;;AAEA,MAAI;AACF,uBAAQS,MAAR,iCAAuCH,KAAKJ,YAA5C;AACD,GAFD,CAEE,OAAOQ,CAAP,EAAU;AACVC,YAAQC,KAAR,CAAcF,CAAd;AACA,WAAO,IAAP;AACD;;AAED;;AAEA,MAAIJ,KAAKF,WAAT,EAAsB;AACpB,QAAI;AACF,0BAAaE,KAAKF,WAAL,CAAiB,IAAjB,CAAb;AACD,KAFD,CAEE,OAAOM,CAAP,EAAU;AACVC,cAAQC,KAAR,CAAcF,CAAd;AACD;AACF;;AAED,MAAIJ,KAAKD,IAAT,EAAe;AACb,QAAI;AACFC,WAAKD,IAAL;AACD,KAFD,CAEE,OAAOK,CAAP,EAAU;AACVC,cAAQC,KAAR,CAAcF,CAAd;AACD;AACF;;AAED,SAAO,IAAP;AACD,C","file":"logout.js","sourcesContent":["import { Cookies } from 'js-cookies'\n\nimport { CONST_AUTHTOKEN_COOKIE } from './lib/config';\nimport { updateApollo, resetApollo } from './'\n\nexport default initialConfig => async function (...configs) {\n  const defaultOpts = {\n    cookieSource: document,\n    updateStore: null,\n    next: null\n  }\n  const opts = Object.assign(defaultOpts, initialConfig, ...configs)\n\n  try {\n    Cookies.delete(CONST_AUTHTOKEN_COOKIE, opts.cookieSource)\n  } catch (e) {\n    console.error(e)\n    return null\n  }\n\n  resetApollo()\n\n  if (opts.updateStore) {\n    try {\n      updateApollo(opts.updateStore(null))\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  if (opts.next) {\n    try {\n      opts.next()\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  return true\n}"]}